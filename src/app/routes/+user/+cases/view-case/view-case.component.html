<div class="d-flex justify-content-between">
    <div>
        <h1 class="font-weight-bold">
            Case: {{caseDetails?.briefDescriptionOfChargeOrLegalMatter}}
        </h1>
        <h4 class="line-height">Your case details at-a-glance</h4>
    </div>
    <div>
        <button class="white-btn py-1 padding-btn" mat-raised-button (click)="backToCases()">
            Back To My Cases
        </button>
    </div>
</div>

<div class="row">
    <div class="col-8">
        <div class="col-12 p-0">
            <mat-card class="mat-elevation-z10 view-card-color w-100 pt-4">
                <div class="d-flex justify-content-between pb-2">
                    <div>
                        <h3 class="line-height font-weight-bold m-0 pt-3">
                            Case Information
                        </h3>
                    </div>
                    <div>
                        <button class="white-btn px-5 py-1" mat-raised-button [routerLink]="'edit'">
                            Edit Cases
                        </button>
                    </div>
                </div>
                <div>
                    <p class="text-default">Name:
                        <span class="font-weight-normal"> {{caseDetails?.inmate?.firstName}} {{caseDetails?.inmate?.lastName}}</span>
                    </p>
                </div>
                <div>
                    <p class="text-default">Charges or Legal Matter:
                        <span class="font-weight-normal">{{caseDetails?.leaglMatter}}</span>
                    </p>
                </div>
                <div *ngIf="caseDetails?.countyOfArrest">
                    <p class="text-default">County of Arrest:
                        <span class="font-weight-normal"> {{caseDetails?.countyOfArrest}}</span>
                    </p>
                </div>
                <div>
                    <p class="text-default" *ngIf="caseDetails?.briefDescriptionOfChargeOrLegalMatter">
                        Brief Description:
                        <span class="font-weight-normal"> {{caseDetails?.briefDescriptionOfChargeOrLegalMatter}}</span>
                    </p>
                </div>
                <div *ngIf="caseDetails?.attorneyName">
                    <p class="text-default">Attorney Name:
                        <span class="font-weight-normal"> {{caseDetails?.attorneyName}}</span>
                    </p>
                </div>
                <div>
                    <p class="text-default" *ngIf="caseDetails?.nextCourtDate">
                        Next Court Date:
                        <span class="font-weight-normal"> {{caseDetails?.nextCourtDate |date: 'MM-dd-yyyy'}}</span>
                    </p>
                </div>
            </mat-card>
        </div>
        <div class="col-12 p-0 mt-3">
            <mat-card class="d-flex justify-content-between mat-elevation-z10 view-card-color">
                <div>
                    <h3 class="font-weight-bold mb-2">Note:</h3>
                    <div class="notes">
                        <span>{{caseDetails?.notes}}</span>
                        <span *ngIf="!caseDetails?.notes" class="text-danger">
                            There is no Note added. Please add the same.
                        </span>
                    </div>
                </div>
                <div class="d-flex align-items-center pl-2">
                    <button class="button-purple" mat-mini-fab title="Add/Edit Note"
                        (click)="openModal(managenotesModel)">
                        <mat-icon>edit</mat-icon>
                    </button>
                </div>
            </mat-card>
        </div>
        <div class="col-12 p-0 mt-3">
            <mat-card class="mat-elevation-z10 view-card-color px-2">
                <app-view-case-files></app-view-case-files>
            </mat-card>
        </div>
    </div>
    <div class="col-4">
        <div>
            <div class="d-flex justify-content-end">
                <button class="button-purple  btn-group mt-1 py-1 btn-group" mat-raised-button>
                    Legal Research Assistant
                </button>
            </div>
            <div class="d-flex justify-content-end">
                <button class="button-purple  btn-group mt-1 py-1 btn-group" mat-raised-button>
                    Ask a Lawyer
                </button>
            </div>
            <div class="d-flex justify-content-end">
                <button class="button-purple btn-group mt-1 py-1 btn-group" mat-raised-button (click)="hireLayer()">
                    Hire a Lawyer
                </button>
            </div>
            <div class="d-flex justify-content-end">
                <button (click)="bailbondsNavigate()" class="button-purple btn-group mt-1 py-1 btn-group"
                    mat-raised-button>
                    Find a Bondsman
                </button>
            </div>
            <div class="d-flex justify-content-end pt-4 pr-4">
                <button class="white-btn py-1" mat-raised-button>
                    <i class="nc-icon nc-single-02 pr-1"></i>
                    <span>Message My Lawyer</span>
                </button>
            </div>
        </div>
    </div>
</div>

<ng-template #managenotesModel>
    <div class="d-flex justify-content-start p-0">
        <h3 class="font-weight-bold pl-2">My Private Case Notes:</h3>
    </div>
    <div class="row">
        <div class="col-md-12">
            <mat-form-field appearance="fill" class="w-100 p-2">
                <textarea rows="10" matInput [formControl]="caseNoteForm.controls['notes']"></textarea>
                <mat-error>
                    <div *ngIf="caseNoteForm.controls['notes'].invalid && caseNoteForm.controls['notes'].touched">
                        <small class="font13">
                            Notes is Required
                        </small>
                    </div>
                </mat-error>
            </mat-form-field>
        </div>
    </div>
    <div class="d-flex justify-content-end p-0">
        <!-- <button *ngIf="enableEditBtn" mat-raised-button class="button-purple mt-2 px-4 py-1"
            [disabled]="caseNoteForm.get('notes').invalid" (click)="this.caseNoteForm.enable();enableEditBtn = false">
            Edit
        </button> -->
        <button mat-raised-button color="primary" class="px-4 py-1 mt-2" [disabled]="caseNoteForm.get('notes').invalid"
            (click)="onSaveChanges()">
            Save
        </button>
    </div>
</ng-template>