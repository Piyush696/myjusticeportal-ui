<div class="row">
    <div class="col-8">
        <div>
            <h1 class="line-height font-weight-bold">My Cases</h1>
            <h4 class="line-height header-sub-text">
                A dashboard to view and manage all the cases you have created.
            </h4>
        </div>

        <div *ngFor="let case of caseList; let i= index" class="pr-2 pb-2 pt-2 pl-0">
            <mat-card class="w-100 card-style">
                <div class="d-flex justify-content-between">
                    <div>
                        <mat-label>
                            <span class="case-heading color">
                                Case {{i+1}}:&nbsp;
                                <span *ngIf="case?.briefDescriptionOfChargeOrLegalMatter.length < 45">
                                    {{case?.legalMatter}}
                                    <br><span
                                        class="font-weight-normal">{{case?.briefDescriptionOfChargeOrLegalMatter}}</span>
                                </span>
                                <span *ngIf="case?.briefDescriptionOfChargeOrLegalMatter.length > 45">
                                    {{case?.legalMatter}}
                                    <br><span class="font-weight-normal">{{case?.briefDescriptionOfChargeOrLegalMatter |
                                        slice:0:45}}...</span>
                                </span>
                            </span>
                        </mat-label>
                        <br>
                    </div>
                    <div class="d-flex">
                        <div>
                            <button mat-mini-fab color="primary" title="View Details" [routerLink]="case?.caseId">
                                <mat-icon>play_arrow</mat-icon>
                            </button>
                        </div>
                    </div>
                </div>
            </mat-card>
        </div>

        <div class="pr-2 pb-2 pt-2 pl-0">
            <button class="button-purple px-5 py-1" mat-raised-button [routerLink]="'create'">
                Add a New Case
            </button>
        </div>
    </div>
    <div class="col-sm-4 col-md-4 col-lg-4 col-xl-4">
        <div>
            <h1 class="line-height font-weight-bold">Sponsored Lawyers</h1>
            <h4 class="line-height header-sub-text">Sponsored lawyers are ready to connect.</h4>
        </div>
        <mat-card class="outer-card">
            <div class="mt-4" *ngFor="let user of sponsorUserList; ">
                <mat-card *ngIf="sponsorUserList?.length < 0" class="sponser-card w-100">
                    <p>Currently your facility does not have any sponsors lawyer</p>
                </mat-card>
                <mat-card *ngIf="sponsorUserList?.length > 0" class="sponser-card w-100">
                    <div class="text-center line-height">

                        <div *ngIf="user?.userAdditionalInfo?.profile?.downloadLink">
                            <img src="{{user?.userAdditionalInfo?.profile?.downloadLink}}" width="157px" height="auto"
                                alt="logo">
                        </div>
                        <div *ngIf="!user?.userAdditionalInfo?.profile?.downloadLink">
                            <img src="assets/img/placeholder.jpg" width="157px" height="auto" alt="logo">
                        </div>
                        <div>
                            <h4 class=" line-height color pt-2"><b>{{user?.firstName}}
                                    {{user?.middleName}} {{user?.lastName}}</b></h4>
                        </div>
                    </div>
                    <div class="d-flex justify-content-center">
                        <button (click)="onViewLawyer(user.userId)" class="btn bg-color px-perc py-1"
                            mat-raised-button>View Profile</button>
                    </div>
                </mat-card>
            </div>
        </mat-card>
    </div>
</div>

<ng-template #managenotesModel>
    <div class="d-flex justify-content-start p-0">
        <h3 class="font-weight-bold pl-2">My Private Case Notes:</h3>
    </div>
    <div class="row">
        <div class="col-md-12">
            <mat-form-field appearance="fill" class="w-100 p-2">
                <textarea rows="10" matInput [formControl]="caseNoteForm.controls['notes']"></textarea>
                <mat-error>
                    <div *ngIf="caseNoteForm.controls['notes'].invalid && caseNoteForm.controls['notes'].touched">
                        <small class="font13">
                            Notes is Required
                        </small>
                    </div>
                </mat-error>
            </mat-form-field>
        </div>
    </div>
    <div class="d-flex justify-content-between p-0">
        <button mat-raised-button class="button-purple mt-2 px-4 py-1" (click)="onCancelNotesModal()">
            Cancel
        </button>
        <button mat-raised-button color="primary" class="px-4 py-1 mt-2" [disabled]="caseNoteForm.get('notes').invalid"
            (click)="onSaveChanges()">
            Save
        </button>
    </div>
</ng-template>


<!-- Button trigger modal -->
<button id="modalopen" #modalopen [hidden]="true" data-toggle="modal" data-target="#exampleModalCenter">
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered px-4 modal-lg py-4" role="document">
        <div class="modal-content modal-xl px-4 py-4">
            <div class="d-flex justify-content-end">
                <button type="button" class="bg-button" data-dismiss="modal">
                    X
                </button>
            </div>
            <div class="mb-1">
                <h2 class="text-center"><b>Welcome to My Justice Portal!</b></h2>
            
                <p id="textstyle" class=" text-justify">The My Justice Portal, LLC Platform may
                    provide access to attorneys who you may choose tohire to represent you in whatever
                    capacity you so choose. MY JUSTICE PORTAL, LLC IS NOT AN ATTORNEY. USING MY JUSTICE
                    PORTAL, LLCâ€™S PLATFORM, AND/OR
                    SERVICES DOES NOT CREATE AN ATTORNEY-CLIENT PRIVILEDGE. MY JUSTICE PORTAL, LLC
                    CANNOT GUARANTEE THAT ANY NOTES YOU TAKE ON THE PLATFORM OR ANY COMMUNICATIONS YOU HAVE
                    WITH AN ATTORNEY WILL BE PRIVILEGED AND CONFIDENTIAL. MY JUSTICE
                    PORTAL, LLC CANNOT GUARRANTEE THE SUCCESS OF ANY ATTORNEY THAT YOU CHOOSE TO HIRE.MY
                    JUSTICE PORTAL, LLC DOES NOT ENDORSE ANY ATTORNEYS THAT ARE LISTED ON THE
                    PLATFORM.</p>
                    <p id="textstyle" class=" text-justify">
                      MY JUSTICE PORTAL, LLC DOES NOT ENDORSE AND CANNOT GUARANTEE
                      THESUCCESS OF ANY THIRD PARTY SERVICE PROVIDER, INCLUDING BUT NOT   LIMITED TO,
                      ATTORNEYS, BAIL BONDSMEN, REHAB FACILITES, ETC.
            </p>
                    
     
              
                <div class="text-center text-justify"><b>You must create a case in order to begin.</b></div>
            </div>
            <div class="d-flex justify-content-center">
                <div class="modal-btn">
                    <button type="button" class="btn btn-secondary button-purple px-2" data-dismiss="modal"
                        (click)="onAcceptClick()">Continue</button>
                </div>
            </div>
        </div>
    </div>
</div>