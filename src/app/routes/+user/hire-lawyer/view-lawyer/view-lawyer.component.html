<div class="row d-flex justify-content-end pr-3">

</div>

<div class="pt-2">
    <mat-card class="border border-dark padd_mat py-0">
        <div class="row banner-style">
            <div class="col-4">
                <div class="d-flex justify-content-center" style="height: 200px;
                width: 250px;">
                    <img src="../../../../../assets/img/logo.png" alt="logo" class="logo" *ngIf="!logo?.downloadLink">
                    <img src="{{logo?.downloadLink}}" alt="logo" class="logo" *ngIf="logo?.downloadLink">
                </div>
            </div>
            <div class="col-7 d-flex align-items-center">
                <span class="title-style">
                    {{orgDetails?.tagline}}
                </span>
            </div>
            <div class="col-1 mt-3">
                <button [routerLink]="'/mjp/user/hire-lawyer'"
                    class="white-btn padding-btn btn-outline float-right py-1" mat-raised-button>
                    Back
                </button>
            </div>

        </div>
        <div class="row p-4">
            <div class="col-4">
                <h3 class="font-weight-bold">Organization Information:</h3>
                <span class="font-weight-bold">Organization:
                    <span class="font-weight-light text-dark">{{orgDetails?.name}}
                        {{orgDetails?.orgCode}}</span>
                    <span class="font-weight-light text-dark"> {{orgDetails?.tagline}}
                    </span>
                </span><br><br>
                <span class="font-weight-bold">Primary Address:
                    <span class="font-weight-light text-dark"> {{orgDetails?.Address?.street1}}
                        {{orgDetails?.Address?.street2}}</span>
                    <span class="font-weight-light text-dark"> {{orgDetails?.Address?.city}}
                        {{orgDetails?.Address?.zip}}</span>
                </span>
                <br>
                <span class="font-weight-bold">Practise Areas: </span>
                <br>
                <ul class="m-0" [hidden]="specialtyList?.length < 0 " *ngFor="let spec of specialtyList">
                    <li class="text-dark">{{spec}}</li>
                </ul>
                <!-- <div class="p-3">
                    <button class="button-purple padding-btn btn-outline py-1" mat-raised-button>
                        Contact
                    </button>
                </div> -->
            </div>
            <div class="col-8">
                <h3 class="font-weight-bold">Organization Statement:</h3>
                <span class="text-dark">{{orgDetails?.description}}</span>
            </div>
        </div>
    </mat-card>
    <mat-card class="outer-card mt-3">
        <mat-label class="font-weight-bold">
            Filtered Results:
        </mat-label>
        <div *ngIf="!orgDetails?.users?.length">
            <mat-label class="font-weight-bold text-danger">
                No data found.
            </mat-label>
        </div>
        <mat-card *ngFor="let user of orgDetails?.users"
            class="d-flex justify-content-between align-items-center inner-card mt-2">
            <div>
                <mat-label class="font-weight-bold">
                    {{user?.firstName}} {{user?.middleName}} {{user?.lastName}}
                </mat-label>
            </div>
            <button class="button-purple" mat-raised-button [disabled]="isHired"
                (click)="openModal(selectCases,user.userId)">
                {{isHired?'Request Pending':'Contact'}}
            </button>
        </mat-card>
    </mat-card>
</div>


<ng-template #selectCases>
    <div class=" pl-3">
        <h2 class="font-weight-bold">Select Cases.</h2>
    </div>
    <div class="row pl-3">
        <div [ngClass]="{'col-6' : caseList?.length > 12 ,'col-12' : caseList?.length <= 12}">
            <div *ngFor="let case of caseList?.slice(0,11)">
                <mat-checkbox color="primary" (change)="onSelectCaseIds($event.checked,case?.caseId)">
                    {{case?.briefDescriptionOfChargeOrLegalMatter}}
                </mat-checkbox>
            </div>
        </div>
        <div class="col-6" *ngIf="caseList?.length > 12">
            <div *ngFor="let case of caseList?.slice(11,caseList?.length)">
                <mat-checkbox color="primary" (change)="onSelectCaseIds($event.checked,case?.caseId)">
                    {{case?.briefDescriptionOfChargeOrLegalMatter}}
                </mat-checkbox>
            </div>
        </div>
    </div>
    <div class="col-12 p-0">
        <mat-form-field appearance="fill" class="w-100 p-2">
            <textarea rows="5" matInput [formControl]="viewCaseForm.controls['notes']"></textarea>
            <!-- <mat-error>
                        <div *ngIf="caseNoteForm.controls['notes'].invalid && caseNoteForm.controls['notes'].touched">
                            <small class="font13">
                                Notes is Required
                            </small>
                        </div>
                    </mat-error> -->
        </mat-form-field>
    </div>
    <div class="d-flex justify-content-between px-3">
        <button mat-raised-button class="button-purple px-4 py-1" (click)="closeModal()">
            Close
        </button>
        <button class="button-purple px-4 py-1" mat-raised-button (click)="onSubmitCaseIds()">
            Submit
        </button>
    </div>
</ng-template>