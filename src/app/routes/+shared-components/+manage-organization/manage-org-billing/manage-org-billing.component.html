<div class="p-0 d-flex">
    <div class="col">
        <h1 class="font-weight-bold m-0">Organization Billing Information</h1>
        <h4 class="line-height header-sub-text">
            View and manage all your organization users
        </h4>
    </div>
    <div class="col-">
        <button class="py-1 padding-btn back-btn" mat-raised-button (click)="backToMO()">
      Back To Manage Organization
    </button>
    </div>
</div>
<div class="row">
    <div class="col-12">
        <mat-card>
            <div class="row">
                <div class="col-4">
                    <div>
                        <mat-card class="border border-dark">
                            <div class="pt-3">
                                <span class="font-weight-bold">Current Organization Paid Users: {{orgCount}}</span>
                            </div>
                            <div class="py-3">
                                <span class="font-weight-bold">Total Monthly Bill: {{orgCount * 40 | currency: "USD":"symbol"}}</span>
                            </div>
                            <div>
                                <span>To make changes, simply remove</span>
                                <p> or add user to the Organization</p>
                            </div>
                        </mat-card>
                    </div>
                    <div class="pt-3">
                        <mat-card class="border border-dark">
                            <div>
                                <span class="h5 text-center font-weight-bold">Credit Card Info</span>
                            </div>
                            <mat-card class="mat-elevation-z10 mt-2">
                                <div class="d-flex flex-column">
                                    <label>Card on file: <span>****&nbsp;{{cardDetails?.last4}}</span></label>
                                    <label>Card type: <span>{{cardDetails?.brand}}</span></label>
                                    <label>Card expiry:
                                            <span>{{cardDetails?.exp_month < 10 ? '0' + cardDetails?.exp_month : cardDetails?.exp_month}}</span>
                                                <span>/</span> <span>{{cardDetails?.exp_year}}</span>
                                            </label>
                                    <label>Next charge: <span>$100.00</span></label>
                                    <div class="d-flex justify-content-end">
                                        <button class="button-purple px-4 py-1" mat-raised-button color="primary" (click)="onOpenChangeCardModal(openCardModal)">Update Card</button>
                                    </div>
                                </div>
                            </mat-card>
                        </mat-card>
                    </div>
                </div>
                <div class="col-8">
                    <mat-card class="border border-dark">
                        <app-shared-all-transactions [headerText]="headerText"></app-shared-all-transactions>
                    </mat-card>
                </div>
            </div>
        </mat-card>
    </div>
</div>

<ng-template #openCardModal>
    <app-update-card-modal (cardChange)="cardChange($event)"></app-update-card-modal>
</ng-template>

<ng-template #confirmModal>
    <div class="d-flex justify-content-center p-2">
        <mat-label class="font-weight-bold">Are you sure you want to make this change? </mat-label>
    </div>
    <div class="d-flex justify-content-between p-2">
        <button mat-raised-button type="button" class="button-purple px-4 py-1" (click)="onPay()">Yes</button>
        <button type="button" class="button-purple px-4 py-1" mat-raised-button (click)="closeModal()">No</button>
    </div>
</ng-template>